---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
---

<MainLayout title="Titel">
  <div class="h-[800px] md:h-[920px] bg-cover -mt-10 bg-[url('/hero.webp')]">
    <p class="text-l md:text-4xl flex pt-72 text-yellow-500 font-bold justify-center">MUSIK I LEJET</p>
    <div class="flex justify-center mt-10">
      <div class="hidden md:block"><Button>BILLETTER</Button></div>
      <div class="md:hidden"><Button size="small">BILLETTER</Button></div>
    </div>
  </div>

  <div class="overflow-hidden w-full -mt-7 md:-mt-0">
    <div class="wrapper flex gap-5 md:gap-20">
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
      <p class="w-[8rem] text-l text-red-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">MUSIK</p>
    </div>
  </div>

  <div class="h-[985px] bg-contain bg-no-repeat md:bg-cover grid justify-center bg-[url('/artistoverblikmobil.webp')] md:bg-[url('/artistoverblik.webp')]">
    <div class="text-yellow-50 font-grotesk text-center pt-[95px] md:pt-[232px] bg-contain bg-no-repeat mt-5 md:mt-32 bg-[url('/sol.png')] w-[450px] md:w-[1000px] md:h-[800px]">
      <p class="font-bold text-m md:text-xl">When Saints Go Machine</p>
      <div class="flex flex-row justify-center md:mb-5">
        <p class="font-bold md:text-l">Atigeardit x Lamin</p>
        <div class="h-1 w-1 md:h-2 md:w-2 bg-yellow-50 rounded mt-3 md:mt-8 mx-2 md:mx-4"></div>
        <p class="font-bold md:text-l">Röyksopp</p>
      </div>

      <div class="flex flex-row justify-center md:mb-2">
        <p class="md:text-m">Guldimund</p>
        <div class="h-1 w-1 md:h-1.5 md:w-1.5 bg-yellow-50 rounded mt-3 md:mt-4 mx-2 md:mx-3"></div>
        <p class="md:text-m">Greta</p>
        <div class="h-1 w-1 md:h-1.5 md:w-1.5 bg-yellow-50 rounded mt-3 md:mt-4 mx-2 md:mx-3"></div>
        <p class="md:text-m">Medina</p>
        <div class="h-1 w-1 md:h-1.5 md:w-1.5 bg-yellow-50 rounded mt-3 md:mt-4 mx-2 md:mx-3"></div>
      </div>
      <p class="md:text-m mb-5 md:mb-10">Tina Dickow</p>
      <div class="hidden md:block"><Button variant="secondary">SE DET FULDE PROGRAM &#8594; </Button></div>
      <div class="md:hidden"><Button size="secondsmall" variant="secondary">SE DET FULDE PROGRAM &#8594; </Button></div>
    </div>
  </div>

  <div class="overflow-hidden bg-blue-600 w-full -mt-[600px] md:-mt-0">
    <div class="wrapper flex gap-20 md:gap-[270px]">
      <p class="w-[8rem] text-l text-yellow-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">NYHEDER</p>
      <p class="w-[8rem] text-l text-yellow-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">NYHEDER</p>
      <p class="w-[8rem] text-l text-yellow-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">NYHEDER</p>
      <p class="w-[8rem] text-l text-yellow-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">NYHEDER</p>
      <p class="w-[8rem] text-l text-yellow-500 font-bold font-grotesk md:w-[22rem] md:text-3xl">NYHEDER</p>
    </div>
  </div>

  <div class="bg-blue-600 w-full h-[650px] md:h-[900px]">
    <div class="relative max-w-10xl m-auto">
      <div id="wrapper" class="overflow-hidden flex snap-x scrollbar-hide gap-2 pt-2">
        <!-- Item 1 -->
        <a href="aften">
          <div id="slide" class="duration-700 hover:scale-105 ease-in-out shrink-0 snap-center bg-[url('/aften.webp')] w-[600px] h-80 bg-cover flex flex-col justify-end text-red-950 font-grotesk text-xs md:text-s">
            <div class="w-full h-16 md:h-20 bg-yellow-50 pl-3 pt-2">
              <p>5. marts 2024</p>
              <p class="font-bold">JA TAK til MiL - Sommerens Festival fortsætter</p>
            </div>
          </div></a
        >

        <!-- Item 2 -->
        <a href=""
          ><div class="duration-700 hover:scale-105 ease-in-out shrink-0 snap-center bg-[url('/musik.webp')] w-[600px] h-80 bg-cover flex flex-col justify-end text-red-950 font-grotesk text-xs md:text-s">
            <div class="w-full h-16 md:h-20 bg-yellow-50 pl-3 pt-2">
              <p>5. marts 2024</p>
              <p class="font-bold">JA TAK til MiL - Sommerens Festival fortsætter</p>
            </div>
          </div></a
        >

        <!-- Item 3 -->
        <a href="">
          <div class="duration-700 hover:scale-105 ease-in-out shrink-0 snap-center bg-[url('/mad.webp')] w-[600px] h-80 bg-cover flex flex-col justify-end text-red-950 font-grotesk text-xs md:text-s">
            <div class="w-full h-16 md:h-20 bg-yellow-50 pl-3 pt-2">
              <p>5. marts 2024</p>
              <p class="font-bold">JA TAK til MiL - Sommerens Festival fortsætter</p>
            </div>
          </div>
        </a>

        <!-- Item 4 -->
        <a href="">
          <div class="duration-700 hover:scale-105 ease-in-out shrink-0 snap-center bg-[url('/volley.webp')] w-[600px] h-80 bg-cover flex flex-col justify-end text-red-950 font-grotesk text-xs md:text-s">
            <div class="w-full h-16 md:h-20 bg-yellow-50 pl-3 pt-2">
              <p>5. marts 2024</p>
              <p class="font-bold">JA TAK til MiL - Sommerens Festival fortsætter</p>
            </div>
          </div>
        </a>

        <!-- Item 5 -->
        <a href="">
          <div class="duration-700 hover:scale-105 ease-in-out shrink-0 snap-center bg-[url('/elektronisk.webp')] w-[600px] h-80 bg-cover flex flex-col justify-end text-red-950 font-grotesk text-xs md:text-s">
            <div class="w-full h-16 md:h-20 bg-yellow-50 pl-3 pt-2">
              <p>5. marts 2024</p>
              <p class="font-bold">JA TAK til MiL - Sommerens Festival fortsætter</p>
            </div>
          </div>
        </a>
      </div>

      <button id="prevbtn" type="button" class="flex absolute top-1/3 left-3 z-40 items-center justify-center w-20 h-20 focus:outline-none transition">
        <svg class="h-16 w-16 md:h-20 md:w-20 text-yellow-500 hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>
      <button id="nextbtn" type="button" class="flex absolute top-1/3 right-3 z-40 items-center justify-center w-20 h-20 focus:outline-none transition">
        <svg class="h-16 w-16 md:h-20 md:w-20 text-yellow-500 hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
    </div>

    <div class="flex justify-center font-bold text-yellow-50 font-grotesk text-s md:text-l mt-20 mb-5 md:mt-32"><p>VI SES OM</p></div>
    <div x-data="{
      endDate: new Date('2024-05-31T23:59:59').getTime(),
      remainingTime: 0,
      formatTime(time) {
        const days = Math.floor(time / (1000 * 60 * 60 * 24));
        const hours = Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((time % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((time % (1000 * 60)) / 1000);
        return { days, hours, minutes, seconds };
      }
    }" x-init="() => {
      setInterval(() => {
        const now = new Date().getTime();
        const remainingTime = endDate - now;
        $data.remainingTime = remainingTime > 0 ? remainingTime : 0;
      }, 1000);
    }">
      <template x-if="remainingTime > 0">
        <div class="flex flex-row gap-7 md:gap-32 text-center justify-center font-bold text-yellow-50 font-grotesk">
          <div>
            <div class="text-xl md:text-4xl" x-text="formatTime(remainingTime).days"></div>
            <div>DAGE</div>
          </div>
          <div>
            <div class="text-xl md:text-4xl" x-text="formatTime(remainingTime).hours"></div>
            <div>TIMER</div>
          </div>
          <div>
            <div class="text-xl md:text-4xl" x-text="formatTime(remainingTime).minutes"></div>
            <div>MINUTTER</div>
          </div>
          <div>
            <div class="text-xl md:text-4xl" x-text="formatTime(remainingTime).seconds"></div>
            <div>SEKUNDER</div>
          </div>
        </div>
      </template>
      <template x-if="remainingTime <= 0">
        <div>
          <div></div>
        </div>
      </template>
    </div>
  </div>

  <div class="relative w-full">
    <video class="w-full brightness-70" autoplay muted loop>
      <source src="/videocountdown.mp4" type="video/mp4" />
    </video>
  </div>

  <script>
    const prevBtn = document.querySelector("#prevbtn");
    const nextBtn = document.querySelector("#nextbtn");
    const slide = document.querySelector("#slide");
    const wrapper = document.querySelector("#wrapper");
    let count = 0;
    prevBtn.style.visibility = "hidden";

    nextBtn.addEventListener("click", () => {
      count++;
      if (count === 4) {
        nextBtn.style.visibility = "hidden";
      } else if (count >= 1) {
        prevBtn.style.visibility = "visible";
      }
      const scrollAmount = slide.offsetWidth;
      wrapper.scrollBy({
        left: scrollAmount,
        behavior: "smooth",
      });
    });

    prevBtn.addEventListener("click", () => {
      count--;

      if (count === 0) {
        prevBtn.style.visibility = "hidden";
      } else if (count >= 1) {
        prevBtn.style.visibility = "visible";
        nextBtn.style.visibility = "visible";
      }
      const scrollAmount = slide.offsetWidth;
      wrapper.scrollBy({
        left: -scrollAmount,
        behavior: "smooth",
      });
    });
  </script>
</MainLayout>
